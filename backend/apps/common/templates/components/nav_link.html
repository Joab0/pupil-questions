{% load icons %}
<div class="nav-link{{ active }} rounded{% if not icon_name %} no-icon{% endif %} d-flex justify-content-between align-items-center gap-2"
     style="min-width: 0">
    <a href="{{ url }}"
       class="text-truncate d-flex align-items-center flex-grow-1 text-decoration-none text-body">
        {% if icon_name %}
            {% icon icon_name "me-2" %}
        {% endif %}
        <span>{{ label }}</span>
    </a>
    {% if actions %}
        <div class="dropdown dropstart">
            <button class="btn btn-sm btn-link text-muted p-0"
                    type="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false">{% icon 'three-dots-vertical' %}</button>
            <ul class="dropdown-menu">
                {% for action in actions %}
                    <li>
                        <form method="post" action="{{ action.url }}">
                            {% csrf_token %}
                            <button type="submit"
                                    class="dropdown-item d-flex align-items-center gap-2 text-decoration-none{% if action.danger %} text-danger{% endif %}">
                                {% if action.icon %}
                                    {% icon action.icon "me-2" %}
                                {% endif %}
                                {{ action.label }}
                            </button>
                        </form>
                    </li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
</div>
